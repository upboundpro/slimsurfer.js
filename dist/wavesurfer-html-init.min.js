/*!
 * slimsurfer.js 4.0.1 (2020-07-20)
 * https://github.com/upboundpro/slimsurfer.js
 * @license BSD-3-Clause
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("html-init",[],e):"object"==typeof exports?exports["html-init"]=e():(t.SlimSurfer=t.SlimSurfer||{},t.SlimSurfer["html-init"]=e())}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,t),!e)throw new Error("SlimSurfer is not available!");this.SlimSurfer=e;var r=this.params=e.util.extend({},{defaults:{backend:"MediaElement",mediaControls:!0},containers:"slimsurfer",pluginCdnTemplate:"//localhost:8080/dist/plugin/slimsurfer.[name].js",loadPlugin:function(t,e){var n=r.pluginCdnTemplate.replace("[name]",t);(0,o.default)(n,{async:!1},(function(r,o){if(r)return console.error("SlimSurfer plugin ".concat(t," not found at ").concat(n));e(window.SlimSurfer[t])}))}},n);this.containers="string"==typeof r.containers?document.querySelectorAll(r.containers):r.containers,this.pluginCache={},this.instances=[],this.initAllEls()}var e,n,r;return e=t,(n=[{key:"initAllEls",value:function(){var t=this;Array.prototype.forEach.call(this.containers,(function(e){var n=e.dataset.plugins?e.dataset.plugins.split(","):[];if(!n.length)return t.initEl(e);n.forEach((function(r,o){t.pluginCache[r]?o===n.length&&t.initEl(e,n):t.params.loadPlugin(r,(function(i){t.pluginCache[r]=i,o+1===n.length&&t.initEl(e,n)}))}))}))}},{key:"initEl",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=/^[[|{]/,o=n.map((function(n){var o,i={},a=new RegExp("^"+n);for(o in t.dataset)if(a.exec(o)){var l=t.dataset[o],u=r.test(l)?JSON.parse(l):l;i[o.slice(n.length,n.length+1).toLowerCase()+o.slice(n.length+1)]=u}return e.pluginCache[n].create(i)})),i=this.SlimSurfer.util.extend({container:t},this.params.defaults,t.dataset,{plugins:o});t.style.display="block";var a=this.SlimSurfer.create(i),l=i.peaks?JSON.parse(i.peaks):void 0;return a.load(i.url,l),this.instances.push(a),a}}])&&l(e.prototype,n),r&&l(e,r),t}();"object"!==("undefined"==typeof window?"undefined":i(window))||window.WS_StopAutoInit||("complete"===document.readyState?window.WaveSurferInit=new u(window.SlimSurfer,window.WS_InitOptions):window.addEventListener("load",(function(){window.WaveSurferInit=new u(window.SlimSurfer,window.WS_InitOptions)})));var c=u;e.default=c,t.exports=e.default},function(t,e){function n(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function r(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,e,o){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof e&&(o=e,e={}),e=e||{},o=o||function(){},a.type=e.type||"text/javascript",a.charset=e.charset||"utf8",a.async=!("async"in e)||!!e.async,a.src=t,e.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(a,e.attrs),e.text&&(a.text=""+e.text),("onload"in a?n:r)(a,o),a.onload||n(a,o),i.appendChild(a)}}])}));
//# sourceMappingURL=slimsurfer-html-init.min.js.map